<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="Woof.TiendaPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    BackgroundColor="#F4F6FF"
    Title="">

    <ContentPage.Content>

        <Grid RowDefinitions="Auto,*" Padding="15">

            <!-- =========== BOTÃ“N REGRESAR =========== -->
            <Grid>
                <Button Text="âŸµ"
                        Clicked="OnRegresarClicked"
                        BackgroundColor="White"
                        TextColor="#4A4A4A"
                        WidthRequest="45"
                        HeightRequest="45"
                        CornerRadius="22"
                        BorderWidth="1"
                        BorderColor="#DDDDDD"
                        HorizontalOptions="Start"
                        VerticalOptions="Start"/>
            </Grid>


            <!-- =========== CONTENIDO PRINCIPAL =========== -->
            <ScrollView Grid.Row="1">
                <VerticalStackLayout Spacing="25">

                    <!-- ========= TARJETA AGREGAR PRODUCTO ========= -->
                    <Frame CornerRadius="20"
                           Padding="20"
                           BackgroundColor="White"
                           HasShadow="True">

                        <VerticalStackLayout Spacing="15">

                            <Label Text="Nuevo Producto"
                                   FontSize="22"
                                   FontAttributes="Bold"
                                   TextColor="#333" />

                            <!-- Nombre -->
                            <Label Text="Nombre del Producto"
                                   FontSize="14"
                                   FontAttributes="Bold"
                                   TextColor="#555"/>
                            <Frame BackgroundColor="#F3F4F6"
                                   CornerRadius="12"
                                   Padding="10"
                                   HasShadow="False">
                                <Entry x:Name="ProductoNombreEntry"
                                       Placeholder="Ej: Collar, Juguete..."
                                       BackgroundColor="Transparent"/>
                            </Frame>

                            <!-- Precio -->
                            <Label Text="Precio"
                                   FontSize="14"
                                   FontAttributes="Bold"
                                   TextColor="#555"/>
                            <Frame BackgroundColor="#F3F4F6"
                                   CornerRadius="12"
                                   Padding="10"
                                   HasShadow="False">
                                <Entry x:Name="ProductoPrecioEntry"
                                       Placeholder="Ej: 12.50"
                                       Keyboard="Numeric"
                                       BackgroundColor="Transparent"/>
                            </Frame>

                            <!-- Stock -->
                            <Label Text="Stock"
                                   FontSize="14"
                                   FontAttributes="Bold"
                                   TextColor="#555"/>
                            <Frame BackgroundColor="#F3F4F6"
                                   CornerRadius="12"
                                   Padding="10"
                                   HasShadow="False">
                                <Entry x:Name="ProductoStockEntry"
                                       Placeholder="Unidades disponibles"
                                       Keyboard="Numeric"
                                       BackgroundColor="Transparent"/>
                            </Frame>

                            <!-- BotÃ³n agregar -->
                            <Button Text="Agregar Producto"
                                    HeightRequest="50"
                                    CornerRadius="12"
                                    BackgroundColor="#5A38FD"
                                    TextColor="White"
                                    FontAttributes="Bold"
                                    Clicked="OnAgregarProductoClicked"/>
                        </VerticalStackLayout>

                    </Frame>


                    <!-- ========= LISTADO DE PRODUCTOS ========= -->
                    <Label Text="Listado de Productos"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="#333" />

                    <ListView x:Name="ProductosListView"
                              ItemSelected="OnProductoSelected"
                              HasUnevenRows="True"
                              BackgroundColor="Transparent"
                              SeparatorVisibility="None">

                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>

                                    <Frame CornerRadius="15"
                                           Padding="15"
                                           Margin="10,5"
                                           BackgroundColor="White"
                                           HasShadow="True">

                                        <HorizontalStackLayout Spacing="15">

                                            <!-- Icono decorativo -->
                                            <Frame WidthRequest="50"
                                                   HeightRequest="50"
                                                   CornerRadius="25"
                                                   BackgroundColor="#FFE9D6"
                                                   HorizontalOptions="Start"
                                                   VerticalOptions="Center">
                                                <Label Text="ðŸ›’"
                                                       FontSize="26"
                                                       VerticalOptions="Center"
                                                       HorizontalOptions="Center"/>
                                            </Frame>

                                            <!-- Texto del producto -->
                                            <VerticalStackLayout>
                                                <Label Text="{Binding Nombre}"
                                                       FontAttributes="Bold"
                                                       FontSize="16"
                                                       TextColor="#333"/>

                                                <Label Text="{Binding Precio, StringFormat='Precio: {0:C}'}"
                                                       FontSize="14"
                                                       TextColor="#777"/>

                                                <Label Text="{Binding Stock, StringFormat='Stock: {0}'}"
                                                       FontSize="12"
                                                       TextColor="#999"/>
                                            </VerticalStackLayout>

                                        </HorizontalStackLayout>

                                    </Frame>

                                </ViewCell>
                            </DataTemplate>
                        </ListView.ItemTemplate>

                    </ListView>



                    <!-- BotÃ³n eliminar -->
                    <Button Text="Eliminar Producto Seleccionado"
                            HeightRequest="50"
                            CornerRadius="12"
                            BackgroundColor="#D32F2F"
                            TextColor="White"
                            FontAttributes="Bold"
                            Clicked="OnEliminarProductoClicked"/>

                </VerticalStackLayout>
            </ScrollView>

        </Grid>

    </ContentPage.Content>
</ContentPage>
